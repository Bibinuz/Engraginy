[gd_scene format=4 uid="uid://b42n1nedoytet"]

[ext_resource type="Script" uid="uid://563d5nfb84m6" path="res://scripts/powerSystem/generator.gd" id="1_1ijy3"]
[ext_resource type="Script" uid="uid://dbuhw48ma2lnv" path="res://scripts/powerSystem/powerNodePort.gd" id="3_g5cqk"]
[ext_resource type="Script" uid="uid://cw0kcf37813c4" path="res://scripts/interactionComponent/interactioncomponent.gd" id="3_qxltg"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pgpcp"]
resource_name = "BaseMetal"
cull_mode = 2
albedo_color = Color(0.6626449, 0.6626449, 0.6626449, 1)
roughness = 0.5

[sub_resource type="ArrayMesh" id="ArrayMesh_0rde7"]
_surfaces = [{
"aabb": AABB(-0.17320508, -0.5, -0.2, 0.34641016, 1, 0.4),
"format": 34896613377,
"index_count": 60,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAACAAEAAwAEAAEABQAAAAIABQADAAAABQACAAYAAwAHAAQACAAFAAYAAwAFAAkACQAFAAgAAwAJAAcABwAKAAQABwAJAAoAAgAEAAsAAgALAAYACwAEAAoACAAGAAsACQALAAoACQAIAAsA"),
"name": "BaseMetal",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 12,
"vertex_data": PackedByteArray("/38AAAAAAAD//////z8AAP9///8AAAAA//8AAP8/AAD//////78AAAAAAAD/PwAAAAD///8/AAD//wAA/78AAAAAAAD/vwAA/38AAP//AAD/f/////8AAAAA////vwAA")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_g5cqk"]
resource_name = "shaft_Cylinder"
_surfaces = [{
"aabb": AABB(-0.17320508, -0.5, -0.2, 0.34641016, 1, 0.4),
"attribute_data": PackedByteArray("//+kwKnq/3////9/qeqkwKnqpMBU1f9/qer/f1TVpMBU1aTA/7//f1TV/3//v6TA/7+kwKmq/3//v/9/qaqkwJm6e/D/n+/Bmbpz0WSFe/D/n///ZIVz0amqpMBUlf9/qar/f1SVpMBUlaTA/3//f1SV/3//f6TAZMVz0Zn6c9H/3+/B/9///2TFe/CZ+nvw"),
"format": 34896613399,
"index_count": 60,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAFAAYABAAHAAUACAAJAAoACAALAAkADAANAA4ADAAPAA0AEAARABIAEQAQABMAEwAQABQAEQATABUAFgAXABgAFgAZABcAGgAbABwAGgAdABsAHgAfACAAHwAeACEAIQAeACIAHwAhACMA"),
"material": SubResource("StandardMaterial3D_pgpcp"),
"name": "BaseMetal",
"primitive": 3,
"uv_scale": Vector4(2, 1.98, 0, 0),
"vertex_count": 36,
"vertex_data": PackedByteArray("/38AAAAAqer//////z+p6v9///8AAKnq//8AAP8/qer//wAA/z//v///////v/+///////8//7///wAA/7//v///AAD/v1SV/3//////VJX//////79Ulf9/AAD//1SV/38AAP//VJUAAP///79Ulf9//////1SVAAAAAP+/VJX//////7//v/9///8AAP+///////8//78AAP///7//v/9///////+/AAD///8//78AAAAA/7//vwAA////P/+/AAD///+//78AAAAA/z//vwAAAAD/P6nq/3///wAAqeoAAP///z+p6v9/AAAAAKnqAAAAAP8//z///wAA/z//P/9/AAAAAP8//38AAP///z8AAAAA/7//P///AAD/v/8//38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/3////9/////f////3///////3////9/////f////3////9/////f/9/////f////3////9/////f////3////9/////f///AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_0rde7")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hv13f"]
resource_name = "BaseMetal"
cull_mode = 2
albedo_color = Color(0.6626449, 0.6626449, 0.6626449, 1)
roughness = 0.5

[sub_resource type="ArrayMesh" id="ArrayMesh_qxltg"]
_surfaces = [{
"aabb": AABB(-1, -1, -1, 2, 2, 2),
"format": 34896613377,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAwACAAEAAAAEAAEAAwAFAAIABQAAAAIABgAEAAAABQAGAAAABwABAAQABwADAAEABgAHAAQABQADAAcABQAHAAYA"),
"name": "BaseMetal",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("/////wAAAAAAAP////8AAAAA//8AAAAAAAAAAP//AAD///////8AAAAAAAAAAAAA//8AAAAAAAD//wAA//8AAA==")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_fuv05"]
resource_name = "test_motor_Cube"
_surfaces = [{
"aabb": AABB(-1, -1, -1, 2, 2, 2),
"attribute_data": PackedByteArray("/5//f//f/z//3/9//5//P/9f/z//nwAA/5//P/9fAAD/X////5//v/+f////X/+//x//f/9f/z//X/9//x//P/9f/3//n/8//5//f/9f/z//X/+//5//f/+f/7//X/9/"),
"format": 34896613399,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAFAAYABAAHAAUACAAJAAoACAALAAkADAANAA4ADAAPAA0AEAARABIAEAATABEAFAAVABYAFAAXABUA"),
"material": SubResource("StandardMaterial3D_hv13f"),
"name": "BaseMetal",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("/////wAA//8AAP///////wAA//8AAP///////////////wAA////vwAA//////+//////////78AAAAA////vwAAAAD//1TVAAD//wAAVNUAAP////9U1QAAAAAAAFTVAAAAAAAA/7///wAA////v///AAAAAP+/AAAAAP///7///wAAAABU1f///////1TV/////wAAVNX//wAA//9U1QAAAAAAAP///////wAA//8AAP//AAD/////AAAAAP///3//v/9//7//f/+//3//v/////////////////////9U1VTVVNVU1VTVVNVU1VTVAAD/fwAA/38AAP9/AAD/f6oqqiqqKqoqqiqqKqoqqir/v/+//7//v/+//7//v/+/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_qxltg")

[sub_resource type="BoxShape3D" id="BoxShape3D_fuv05"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_1ijy3"]
data = PackedVector3Array(0, -0.5, -0.19999999, 0.1732, 0.5, -0.099999994, 0, 0.5, -0.19999999, 0, -0.5, -0.19999999, 0.1732, -0.5, -0.099999994, 0.1732, 0.5, -0.099999994, 0.1732, -0.5, -0.099999994, 0.1732, 0.5, 0.099999994, 0.1732, 0.5, -0.099999994, 0.1732, -0.5, -0.099999994, 0.1732, -0.5, 0.099999994, 0.1732, 0.5, 0.099999994, 0.1732, -0.5, 0.099999994, 0, 0.5, 0.19999999, 0.1732, 0.5, 0.099999994, 0.1732, -0.5, 0.099999994, 0, -0.5, 0.19999999, 0, 0.5, 0.19999999, 0, -0.5, 0.19999999, -0.1732, 0.5, 0.099999994, 0, 0.5, 0.19999999, 0, -0.5, 0.19999999, -0.1732, -0.5, 0.099999994, -0.1732, 0.5, 0.099999994, 0.1732, 0.5, 0.099999994, 0, 0.5, -0.19999999, 0.1732, 0.5, -0.099999994, 0, 0.5, -0.19999999, 0.1732, 0.5, 0.099999994, -0.1732, 0.5, 0.099999994, -0.1732, 0.5, 0.099999994, 0.1732, 0.5, 0.099999994, 0, 0.5, 0.19999999, 0, 0.5, -0.19999999, -0.1732, 0.5, 0.099999994, -0.1732, 0.5, -0.099999994, -0.1732, -0.5, 0.099999994, -0.1732, 0.5, -0.099999994, -0.1732, 0.5, 0.099999994, -0.1732, -0.5, 0.099999994, -0.1732, -0.5, -0.099999994, -0.1732, 0.5, -0.099999994, -0.1732, -0.5, -0.099999994, 0, 0.5, -0.19999999, -0.1732, 0.5, -0.099999994, -0.1732, -0.5, -0.099999994, 0, -0.5, -0.19999999, 0, 0.5, -0.19999999, -0.1732, -0.5, -0.099999994, 0.1732, -0.5, -0.099999994, 0, -0.5, -0.19999999, 0.1732, -0.5, -0.099999994, -0.1732, -0.5, -0.099999994, 0, -0.5, 0.19999999, 0, -0.5, 0.19999999, -0.1732, -0.5, -0.099999994, -0.1732, -0.5, 0.099999994, 0.1732, -0.5, -0.099999994, 0, -0.5, 0.19999999, 0.1732, -0.5, 0.099999994)

[sub_resource type="BoxShape3D" id="BoxShape3D_6vl1m"]
size = Vector3(0.1, 0.1, 0.1)

[sub_resource type="BoxShape3D" id="BoxShape3D_qxltg"]
size = Vector3(0.9, 0.9, 1.9)

[node name="Generator" type="Node3D" unique_id=440978830 groups=["Persist"]]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0)
script = ExtResource("1_1ijy3")
generate_per_speed = 512
generator_speed = 1.0
meshes_path = Array[NodePath]([NodePath("MeshInstance3D"), NodePath("MeshInstance3D2")])
areas_path = Array[NodePath]([NodePath("PlacementArea")])
collisions_path = Array[NodePath]([NodePath("MotorShaftStatic")])
metadata/_custom_type_script = "uid://563d5nfb84m6"

[node name="MeshInstance3D" type="MeshInstance3D" parent="." unique_id=1787739500]
mesh = SubResource("ArrayMesh_g5cqk")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="." unique_id=1041928934]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1, 0)
mesh = SubResource("ArrayMesh_fuv05")

[node name="MotorShaftStatic" type="StaticBody3D" parent="." unique_id=291459230]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0, 0)

[node name="CollisionShape3D2" type="CollisionShape3D" parent="MotorShaftStatic" unique_id=119527373]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
shape = SubResource("BoxShape3D_fuv05")

[node name="CollisionShape3D" type="CollisionShape3D" parent="MotorShaftStatic" unique_id=636423373]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_1ijy3")

[node name="InteractionComponent" type="Node" parent="MotorShaftStatic" unique_id=694372050]
script = ExtResource("3_qxltg")
override_icon = true
metadata/_custom_type_script = "uid://cw0kcf37813c4"

[node name="ConnectionPorts" type="Node3D" parent="." unique_id=580262722]

[node name="Port1" type="Area3D" parent="ConnectionPorts" unique_id=1846744712]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
collision_layer = 2
collision_mask = 2
script = ExtResource("3_g5cqk")
allow_ports = Array[int]([0])
metadata/_custom_type_script = "uid://dbuhw48ma2lnv"

[node name="CollisionShape3D" type="CollisionShape3D" parent="ConnectionPorts/Port1" unique_id=1200105768]
shape = SubResource("BoxShape3D_6vl1m")

[node name="Port2" type="Area3D" parent="ConnectionPorts" unique_id=632423640]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
collision_layer = 2
collision_mask = 2
script = ExtResource("3_g5cqk")
allow_ports = Array[int]([0])
metadata/_custom_type_script = "uid://dbuhw48ma2lnv"

[node name="CollisionShape3D" type="CollisionShape3D" parent="ConnectionPorts/Port2" unique_id=2083317016]
shape = SubResource("BoxShape3D_6vl1m")

[node name="PlacementArea" type="Area3D" parent="." unique_id=1475278969]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0.5, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlacementArea" unique_id=1990309707]
shape = SubResource("BoxShape3D_qxltg")
